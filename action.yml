name: Workflow Agent Action
author: Sudden
branding:
  icon: arrow-right
  color: red

description: Run programmable agents on any GitHub Workflow to enable automation across your repo.

inputs:
  agent_api_key:
    description: Agent API key
    required: false
    default: ""
  agent_auth_file:
    description: Agent auth file content (agent-specific)
    required: false
    default: ""
  github_token:
    description: GitHub token used by the action (defaults to the workflow token)
    required: false
    default: ""
  workflow_github_token:
    description: Internal-only workflow token (do not set manually)
    required: false
    default: ${{ github.token }}
  github_token_actor:
    description: Actor login for the GitHub token (required for non-workflow tokens, e.g. `sudden-agent[bot]`)
    required: false
    default: ""
  agent:
    description: Agent to run
    required: false
    default: codex
  model:
    description: Agent model override (for Codex, append reasoning effort with /, e.g. gpt-5.2-codex/xhigh)
    required: false
    default: ""
  prompt:
    description: Optional extra instructions for the agent
    required: false
    default: ""
  resume:
    description: Enable session resume across runs
    required: false

runs:
  using: node20
  main: dist/index.js
